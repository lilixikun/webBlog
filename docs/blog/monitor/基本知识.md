# 前端监控基本知识

## 前端监控的应用场景

### 为什么需要前端监控

- 页面的访问行为，PV、UV、IP、PV 点击率、UV 点击率、停留时长
- 用户的操作行为，模块曝光、模块点击、滑动、表单操作
- 页面的性能，首屏渲染时间、API 请求时间
- 异常的监控，JS Error、API 异常、业务异常

### 场景的应用场景

- 流量分析
- 行为分析
- 性能监控
- 异常监控

### 常见的前端监控平台有哪些？

- 百度统计
  - 流量统计和分析免费
  - 行为分析需要覆盖
- 阿里云 ARMS
  - 流量分析、性能监控、异常监控
- 友盟
  - 流量分析
  - 行为分析

### 为什么要自建前端监控平台？

- 如果你的需求主要是流量分析，建议直接使用百度统计或阿里云 ARMS
- 如果你的需求不仅仅需要做流量分析，还要做行为分析，那么可以考虑自建
  - 自建成本较高（人力成本），优势是数据掌握自己手里
  - 现成方案也有一定成本（向平台付费）、数据获取不到
- 希望数据能够存储在自己的数据库，希望扩展更多的分析维度和能力时，需要自建

## 前端监控平台架构设计

### 架构设计

- 前端监控平台的层
  - 前端监控的 SDK
    - 采集
    - 上报
      - 默认上报：页面 PV、性能
      - 手动上报：页面操作行为
  - 前端监控 API 和大数据仓库
    - 接收上报的数据
    - 数据仓库: MaxCompute
      - 数据存储
      - 数据查询
  - 前端监控数据可视化
    - 日志大数据清洗
    - 大数据回流 RDS（非结构化数据=>结构化数据）
    - 多结构化进行运算生成图标

### 架构图

![jenkins_down.png](/monitor/前端监控平台架构图.png)
