# è¿›é˜¶

## ç±»å‹åˆ«å

ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚

```ts
type User = { name: string; age: number };
const user: User ={ name: 'å¼ ä¸‰'; age: 20}
```

## å…ƒç¥–

æ•°ç»„åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆTupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚

å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º string å’Œ number çš„å…ƒç»„ï¼š

```ts
let tom: [string, number] = ['Tom', 25];
```

è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ æ—¶ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š

```ts
let tom: [string, number];
tom[0] = 'Tom';
tom[1] = 25;

tom[0].slice(1);
tom[1].toFixed(2);
```

å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹:

```ts
let tom: [string, number];
tom = ['Tom', 25];
tom.push('male');
tom.push(true);
// Argument of type 'true' is not assignable to parameter of type 'string | number'.
```

## æšä¸¾

æšä¸¾ä½¿ç”¨ **enum** å…³é”®å­—æ¥å®šä¹‰ï¼š

```ts
const enum Directions {
    Up,
    Down,
    Left,
    Right
}
```

æ‰‹åŠ¨èµ‹å€¼

```ts
const enum Type {
    Pc = 1,
    Mobile = 2,
    Web = 3
}
```

## ç±»(class)
åœ¨ä¹‹å‰,JavaScriptéƒ½æ˜¯é€šè¿‡**åŸå‹é“¾**å®ç°ç»§æ‰¿,è€Œåœ¨ ES6 ä¸­ï¼ŒJS æœ‰äº† **class**

### ç±»çš„å®šä¹‰ä¸ç»§æ‰¿

ç±»çš„å®šä¹‰ä½¿ç”¨ **class** å®šä¹‰,ç»§æ‰¿ä½¿ç”¨ **extends** å°±è¡Œï¼Œä¸‹é¢ä¸€ä¸ªç®€å•äº‹ä¾‹

```ts
class Person {
  name = 'dell';
  getName() {
    return this.name;
  }
}

class Teacher extends Person {
  getTeacherName() {
    return 'Teacher';
  }
  getName() {
    return super.getName() + 'lee';
  }
}

const teacher = new Teacher();
console.log(teacher.getName());
console.log(teacher.getTeacherName());
```

å¦‚ä¸Š,æˆ‘ä»¬å®šä¹‰ç±»ä¸€ä¸ª**Person**ç±»,è®© **Teacher** ç»§æ‰¿å®ƒ,å¹¶ä¸”é‡å†™äº† **getName** æ–¹æ³•,ä¹Ÿå°±æ˜¯å¤šæ€

### æ„é€ å™¨

ES6 ä¸­å®ä¾‹çš„å±æ€§åªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„ this.xxx æ¥å®šä¹‰ï¼ŒES7 ææ¡ˆä¸­å¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰,è¿™æ ·ç›´æ¥å°±æ˜¯**å®ä¾‹å±æ€§**

```ts
class Animal {
  name = 'Jack';

  constructor() {
    // ...
  }
}

let a = new Animal();
console.log(a.name); // Jack
```
å¦‚æœå±æ€§é€šè¿‡ **constructor**,å¯ä»¥é€šè¿‡è¿™ç§ç®€å†™çš„æ–¹å¼æ¥å®šä¹‰

```ts
class Animal {
  constructor(public name?: string) {
    this.name = name
  }
}

let a = new Animal('å°çŒ«');
console.log(a.name);
```

### é™æ€å±æ€§
å¯ä»¥ä½¿ç”¨ **static** å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼š

```ts
class Animal {
  static num = 42;
  static say() {
    console.log('æˆ‘æ˜¯å°çŒ«');

  }
}

console.log(Animal.num);
Animal.say()
```

<font color='red'>é™æ€å±æ€§å¯ä»¥ç»§æ‰¿å—ï¼Ÿ</font>


```ts
class Dog extends Animal {

}

console.log(Dog.num);
Dog.say()
```

å¯ä»¥çœ‹åˆ°,ç±»çš„é™æ€å±æ€§æ˜¯å¯ä»¥**è¢«ç»§æ‰¿**çš„

æˆ‘ä»¬ç”¨ class çš„é™æ€å±æ€§æ¥å®ç°ä¸€ä¸ª **å•ä¾‹**
```ts
class Demo {
  private static instance: Demo;
  private constructor(public name: string) {}

  static getInstance() {
    if (!this.instance) {
      this.instance = new Demo('dell lee');
    }
    return this.instance;
  }
}

const demo1 = Demo.getInstance();
const demo2 = Demo.getInstance();
console.log(demo1.name);
console.log(demo2.name);
```

### ç±»ä¸­çš„è®¿é—®ç±»å‹

TypeScript å¯ä»¥ä½¿ç”¨ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦ï¼ˆAccess Modifiersï¼‰ï¼Œåˆ†åˆ«æ˜¯ **public**ã€**private** å’Œ **protected**ã€‚

- public å…è®¸æˆ‘åœ¨ç±»çš„å†…å¤–è¢«è°ƒç”¨ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ public çš„
- private å…è®¸åœ¨ç±»å†…è¢«ä½¿ç”¨
- protected å…è®¸åœ¨ç±»å†…åŠç»§æ‰¿çš„å­ç±»ä¸­ä½¿ç”¨

å¯ä»¥åœ¨å®šä¹‰ å±æ€§æˆ–è€…æ–¹æ³•çš„å‰é¢ æ·»åŠ ä¿®é¥°ç¬¦,å¦‚ä¸‹:

```ts
class Person {
  public name: string;
  private sayHi() {
    console.log(`hi:${this.name}`);
  }
}
```

è¿™æ ·ä¸€æ¥,sayHi åªèƒ½åœ¨ **Person** å†…éƒ¨ä½¿ç”¨,æ— è®ºæ˜¯ new è¿˜æ˜¯ç»§æ‰¿éƒ½æ— æ³•è°ƒç”¨è¯¥æ–¹æ³•

### readonly

åªè¯»å±æ€§å…³é”®å­—ï¼Œåªå…è®¸å‡ºç°åœ¨å±æ€§å£°æ˜æˆ–ç´¢å¼•ç­¾åæˆ–æ„é€ å‡½æ•°ä¸­

```ts
class Animal {
  constructor(public readonly name?: string) {
    this.name = name
  }
}
const animal = new Animal('åŠ¨ç‰©')
animal.name = "ss"
// index.ts(10,3): TS2540: Cannot assign to 'name' because it is a read-only property.
```

###  getter å’Œ setter 

ä½¿ç”¨ **getter** å’Œ **setter** å¯ä»¥æ”¹å˜å±æ€§çš„èµ‹å€¼å’Œè¯»å–è¡Œä¸ºï¼š
```ts
class Animal {
  constructor(name) {
    this.name = name;
  }
  get name() {
    return 'Jack';
  }
  set name(value) {
    console.log('setter: ' + value);
  }
}

let a = new Animal('Kitty'); // setter: Kitty
a.name = 'Tom'; // setter: Tom
console.log(a.name); // Jack
```

## æ³›å‹

æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚

### ä¾‹å­ğŸŒ°

å¦‚ä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–¹æ³•,ç”¨æ¥äº¤æ¢è¾“å…¥çš„å…ƒç»„ã€‚

```ts
function swap<T, U>(tuple: [T, U]): [U, T] {
    return [tuple[1], tuple[0]];
}
swap([6, 'six']) // [ 'six', 6 ]
```

### æ³›å‹çº¦æŸ

åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨æ³›å‹å˜é‡çš„æ—¶å€™ï¼Œç”±äºäº‹å…ˆä¸çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹ï¼Œæ‰€ä»¥ä¸èƒ½éšæ„çš„æ“ä½œå®ƒçš„å±æ€§æˆ–æ–¹æ³•ï¼š

```ts
interface Lengthwise {
    length: number;
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
    console.log(arg.length);
    return arg;
}
```

ä½¿ç”¨äº† extendsçº¦æŸäº†æ³›å‹ Tå¿…é¡»ç¬¦åˆæ¥å£ Lengthwiseçš„å½¢çŠ¶ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»åŒ…å« lengthå±æ€§ã€‚

### æ³›å‹æ¥å£

ä½¿ç”¨å«æœ‰æ³›å‹çš„æ¥å£æ¥å®šä¹‰å‡½æ•°çš„å½¢çŠ¶ï¼Œå¾ˆå¤šæ–‡ç« è¿™æ ·æ¥å—çš„. æˆ‘çš„ç†è§£å°±æ˜¯ç»™æ¥å£å¢å¼ºäº†åŠŸèƒ½,æœ‰ç‚¹å¼ºè¡Œç‰µæ‰¯çš„å‘³é“

```ts
interface CreateArrayFunc {
    <T>(length: number, value: T): Array<T>;
}

let createArray: CreateArrayFunc;
createArray = function<T>(length: number, value: T): Array<T> {
    let result: T[] = [];
    for (let i = 0; i < length; i++) {
        result[i] = value;
    }
    return result;
}

createArray(3, 'x'); // ['x', 'x', 'x']
```

å¯ä»¥æŠŠæ³›å‹å‚æ•°æå‰åˆ°æ¥å£åä¸Šï¼š

```ts
interface CreateArrayFunc<T> {
    (length: number, value: T): Array<T>;
}

let createArray: CreateArrayFunc<any>; // æ­¤æ—¶åœ¨ä½¿ç”¨æ³›å‹æ¥å£çš„æ—¶å€™ï¼Œéœ€è¦å®šä¹‰æ³›å‹çš„ç±»å‹
...
```

### æ³›å‹ç±»

æ³›å‹ç±»çœ‹ä¸Šå»ä¸æ³›å‹æ¥å£å·®ä¸å¤šã€‚ æ³›å‹ç±»ä½¿ç”¨ï¼ˆ <>ï¼‰æ‹¬èµ·æ³›å‹ç±»å‹ï¼Œè·Ÿåœ¨ç±»ååé¢ã€‚

```ts
class GenericNumber<T> {
    zeroValue: T;
    add: (x: T, y: T) => T;
}

let myGenericNumber = new GenericNumber<number>();
myGenericNumber.zeroValue = 0;
myGenericNumber.add = function(x, y) { return x + y; };
```

### é»˜è®¤ç±»å‹

å½“ä½¿ç”¨æ³›å‹æ—¶æ²¡æœ‰åœ¨ä»£ç ä¸­ç›´æ¥æŒ‡å®šç±»å‹å‚æ•°ï¼Œä»å®é™…å€¼å‚æ•°ä¸­ä¹Ÿæ— æ³•æ¨æµ‹å‡ºæ—¶ï¼Œè¿™ä¸ªé»˜è®¤ç±»å‹å°±ä¼šèµ·ä½œç”¨ã€‚

```ts
function createArray<T = string>(length: number, value: T): Array<T> {
    let result: T[] = [];
    for (let i = 0; i < length; i++) {
        result[i] = value;
    }
    return result;
}
```